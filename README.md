# Casting Agency

App live at : [https://cast1001.herokuapp.com/](https://cast1001.herokuapp.com/)

This is the capstone project for Udacity's Fullstack Nanodegree program.

The Casting Agency models a company that is responsible for creating movies and managing and assigning actors to those movies. You are an Executive Producer within the company and are creating a system to simplify and streamline your process.

Endpoints:
GET /actors and /movies
DELETE /actors/ and /movies/
POST /actors and /movies and
PATCH /actors/ and /movies/

Roles:
#### Casting Assistant
- Can view actors and movies
#### Casting Director
- All permissions a Casting Assistant has and…
- Add or delete an actor from the database
- Modify actors or movies
#### Executive Producer
- All permissions a Casting Director has and…
- Add or delete a movie from the database

## Configure third-party authentication systems

Auth0 is used to control access. In order to use the API users need to be authenticated. Jwt tokens can be generated by logging in through Auth0 with the provided credentials.

Casting Assistant: shuzhi2020@gmail.com
pin: hzCp8MenxiQba
Casting Director: wangy754@hotmail.com
pin: hzCp8MenxiQbab4
Executive Producer: yingwang1001@gmail.com
pin: Cp8MenxiQbab4

### Endpoints

#### login endpoint:
https://cast1001.herokuapp.com/auth

#### GET /actors
- Returns all the actors.
- Roles authorized : Casting Assistant,Casting Director, Executive Producer.

- Sample: get https://cast1001.herokuapp.com/actors
- Sample output
```json
{
    "actors": [
        {
            "age": 58,
            "gender": "Male",
            "id": 1,
            "name": "James Bond"
        },
        {
            "age": 50,
            "gender": "Male",
            "id": 2,
            "name": "Alan Turing"
        }
    ],
    "success": true
}
```
#### GET /actors/id
- Get the actor of a given id
- Roles authorized : Casting Assistant,Casting Director, Executive Producer.

- Sample: get https://cast1001.herokuapp.com/actors/1
- Sample output
```json
{
    "actor": {
        "age": 60,
        "gender": "Male",
        "id": 1,
        "name": "James Bond"
    },
    "success": true
}
```
#### POST /actors
- Creat an actor in the database
- Roles authorized: Casting Director, Executive Producer.

- sample: post https://cast1001.herokuapp.com/actors
- Sample input
```json
 {
        "age": 58,
        "gender": "Male",
        "name": "Tom Cruise"
    }
```
- Sample output
```json
{
    "actor": {
        "age": 58,
        "gender": "Male",
        "id": 5,
        "name": "Tom Cruise"
    },
    "success": true
}
```
#### PATCH /actors/id
- updage an actor of a given id
- Roles authorized: Casting Director, Executive Producer.

- url: post https://cast1001.herokuapp.com/actors/5
- Sample input
```json
 {
        "age": 59,
        "gender": "Male",
        "name": "Tom Cruise"
    }
```
- Sample output
```json
{
    "actor": {
        "age": 59,
        "gender": "Male",
        "id": 5,
        "name": "Tom Cruise"
    },
    "success": true
}
```
#### GET /movies
- Returns all the movies.
- Roles authorized : Casting Assistant,Casting Director, Executive Producer.

- Sample: get https://cast1001.herokuapp.com/movies
- Sample output
```json
{
    "movies": [
        {
            "id": 1,
            "release_date": "Thu, 09 Mar 1995 00:00:00 GMT",
            "title": "Sweet Home Alabama"
        },
        {
            "id": 2,
            "release_date": "Tue, 09 May 1995 00:00:00 GMT",
            "title": "Good Will Hunting"
        }
    ],
    "success": true
}
```
#### GET /movies/id
- Get the movie of a given id
- Roles authorized : Casting Assistant,Casting Director, Executive Producer.

- Sample: get https://cast1001.herokuapp.com/movies/1
- Sample output
```json
{
    "movie": {
        "id": 3,
        "release_date": "Mon, 01 Dec 2003 00:00:00 GMT",
        "title": "Finding Nemo 2"
    },
    "success": true
}
```
#### POST /movies
- Creat a movie in the database
- Roles authorized: Executive Producer.

- sample: post https://cast1001.herokuapp.com/movies
- Sample input
```json
{
            "release_date": "1998-05-09",
            "title": "Finding Nemo"
        }
```
- Sample output
```json
{
    "movie": {
        "id": 5,
        "release_date": "Sat, 09 May 1998 00:00:00 GMT",
        "title": "Finding Nemo"
    },
    "success": true
}
```
#### PATCH /movies/id
- updage a movie of a given id
- Roles authorized: Casting Director, Executive Producer.

- url: post https://cast1001.herokuapp.com/moives/5
- Sample input
```json
{
            "title": "Finding Nemo 2",
            "release_date": "2003-12-01"
        }
```
- Sample output
```json
{
    "movie": {
        "id": 3,
        "release_date": "Mon, 01 Dec 2003 00:00:00 GMT",
        "title": "Finding Nemo 2"
    },
    "success": true
}
```
#### DELETE /actors/id
- delete actor of a given id
- Roles authorized : Casting Director, Executive Producer.
#### DELETE /movies/id
- delete movie of a given id
- Roles authorized : Executive Producer.

### Error Handling

The error codes currently returned are:

- 400 – bad request
- 401 – unauthorized
- 404 – resource not found
- 422 – unprocessable

